<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Entry</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="password-screen">
        <h2>请输入验证码</h2>
        <input type="password" id="password" placeholder="请输入验证码">
        <button onclick="checkPassword()">提交</button>
        <p id="error-message"></p>
    </div>

    <div id="data-form1" style="display: none;">
        <h2>请输入信息</h2>

        <label for="name">姓名</label>
        <input type="text" id="name" required>

        <label for="id">身份证号码 (18位)</label>
        <input type="text" id="id" pattern=".{18}" minlength="18" maxlength="18" title="身份证号码必须为18个字符" required>

        <label for="wallet">钱包地址 (42位)</label>
        <input type="text" id="wallet" pattern=".{42}" minlength="42" maxlength="42" title="钱包地址必须为42个字符" required>

        <label for="phone">联系电话</label>
        <input type="text" id="phone" required>

        <label for="service">所属服务中心号码</label>
        <input type="text" id="service" required>

        <label for="leader">所属负责人</label>
        <input type="text" id="leader" required>

        <button onclick="nextStep()">下一步</button>
        <p id="message"></p>
    </div>

    <div id="data-form2" style="display: none;">
        <h2>EIIGI积分统计</h2>
        <h2>(如无此项，请删除该行并直接进入下一步)</h2>
        <table id="data-table2" border="1">
            <thead>
                <tr>
                    <th>证书编码</th>
                    <th>数量</th>
                    <th>删除行</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="column2-1" placeholder="证书编码"></td>
                    <td><input type="number" class="column2-2" placeholder="数量" min="0"></td>
                    <td><button type="button" onclick="removeRow(this)">-</button></td>
                </tr>
            </tbody>
        </table>
        <div id="subtotal2">Subtotal: 0</div> <!-- Subtotal div -->
        <button onclick="addRow('data-table2', 'column2-1', 'column2-2')">+</button>
        <button onclick="nextStep2()">下一步</button>
        <p id="message2"></p>
    </div>

    <div id="data-form3" style="display: none;">
        <h2>CNTV积分统计</h2>
        <h2>(如无此项，请删除该行并直接进入下一步)</h2>
        <table id="data-table3" border="1">
            <thead>
                <tr>
                    <th>证书编码</th>
                    <th>数量</th>
                    <th>删除行</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="column3-1" placeholder="证书编码"></td>
                    <td><input type="number" class="column3-2" placeholder="数量" min="0"></td>
                    <td><button type="button" onclick="removeRow(this)">-</button></td>
                </tr>
            </tbody>
        </table>
        <div id="subtotal3">Subtotal: 0</div>
        <button onclick="addRow('data-table3', 'column3-1', 'column3-2')">+</button>
        <button onclick="nextStep3()">下一步</button>
        <p id="message3"></p>
    </div>

    <div id="data-form4" style="display: none;">
        <h2>024积分统计</h2>
        <h2>(如无此项，请删除该行并直接进入下一步)</h2>
        <table id="data-table4" border="1">
            <thead>
                <tr>
                    <th>证书编码</th>
                    <th>数量</th>
                    <th>删除行</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" class="column4-1" placeholder="证书编码"></td>
                    <td><input type="number" class="column4-2" placeholder="数量" min="0"></td>
                    <td><button type="button" onclick="removeRow(this)">-</button></td>
                </tr>
            </tbody>
        </table>
        <div id="subtotal4">Subtotal: 0</div>
        <button onclick="addRow('data-table4', 'column4-1', 'column4-2')">+</button>
        <button onclick="submitData()">下一步</button>
        <p id="message4"></p>
    </div>

    <div id="summary-form" style="display: none;">
        <h2>总 表</h2>
        <h3>(如果有任何错误，请重新加载并重新提交表格)</h3>

        <table id="summary-table" border="1">
            <tbody>
                <!-- User inputs will be dynamically inserted here -->
            </tbody>
        </table>

        <h3>积分总数: <span id="total-score">0</span></h3>

        <label class="checkbox-label">
            <input type="checkbox" id="declaration1">
            本人声明以上内容属实，如不属实，愿承担一切法律责任。
        </label>
        <br>
        <label class="checkbox-label">
            <input type="checkbox" id="declaration2">
            本表每人只能填写一次。在递交之后如有更改，请联系所属负责人，由负责人统一提交更改信息。
        </label>


        <br><br>
        <button onclick="finalSubmit()">递 交</button>
    </div>


    <script src="script.js"></script>
</body>
</html>